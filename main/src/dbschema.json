{
	"db_name": "irc",
	"db_file": "data/irc.db",
	"version": 2,
	"maps": {
		"users/.+/content.json": {
			"to_json_table": ["cert_user_id"]
		},
		"users/.+/23_.*.json": {
			"to_table": [
				{
					"node": "messages",
					"table": "channels"
				}
			]
		},
		"users/.+/21_.*.json": {
			"to_table": [
				{
					"node": "messages",
					"table": "groups"
				}
			]
		},
		"users/.+/40_.*.json": {
			"to_table": [
				{
					"node": "messages",
					"table": "users"
				}
			]
		}
	},
	"tables": {
		"json": {
			"cols": [
				["json_id", "INTEGER PRIMARY KEY AUTOINCREMENT"],
				["directory", "TEXT"],
				["file_name", "TEXT"],
				["cert_user_id", "TEXT"]
			],
			"indexes": ["CREATE UNIQUE INDEX path ON json(directory, file_name)"],
			"schema_changed": 1
		},
		"channels": {
			"cols": [
				["hash", "TEXT"],
				["message", "TEXT"],
				["json_id", "INTEGER"]
			],
			"indexes": ["CREATE INDEX channel_hash ON channels(hash)"],
			"schema_changed": 2
		},
		"groups": {
			"cols": [
				["hash", "TEXT"],
				["message", "TEXT"],
				["json_id", "INTEGER"]
			],
			"indexes": ["CREATE INDEX group_hash ON groups(hash)"],
			"schema_changed": 2
		},
		"users": {
			"cols": [
				["hash", "TEXT"],
				["message", "TEXT"],
				["json_id", "INTEGER"]
			],
			"indexes": ["CREATE INDEX user_hash ON users(hash)"],
			"schema_changed": 2
		}
	}
}